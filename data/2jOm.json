{"name":"2jOm","title":"forked: mod |z|^2","description":"GLSL version","libraries":[],"js":{"language":"js","content":"// forked from 9re's \"mod |z|^2\" http://jsdo.it/9re/modular_z2\nwindow.addEventListener('DOMContentLoaded', function (){\n    var width = 465,\n        height = 465,\n        gl = new MicroGL(),\n        t = 0;\n\n    function main() {\n        init();\n        animate();\n    }\n    function init() {\n        gl.init(document.body, width, height)\n            .program(\n                document.getElementById('vshader').textContent,\n                document.getElementById('fshader').textContent\n            )\n            .bindVars({\n                a_position: [0,0, 0,1, 1,0, 1,1],\n                u_size: [width, height]\n            });\n    }\n    function animate() {\n        t += 0.004;\n        gl.bindVars({ u_time: t }).clear().draw();\n\n        requestAnimationFrame(animate);\n    }\n\n    main();\n});"},"html":{"language":"html","content":"<html>\n  <head>\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n    <script src=\"https://xl1.github.io/microgl/microgl.js\"></script>\n  </head>\n  <body>\n    <script type=\"x-shader/x-vertex\" id=\"vshader\">\nattribute vec2 a_position;\nvoid main(){ gl_Position = vec4(2.0 * a_position - vec2(1.0), 0.0, 1.0); }\n    </script>\n    <script type=\"x-shader/x-fragment\" id=\"fshader\">\nprecision mediump float;\nuniform float u_time;\nuniform vec2 u_size;\n\n// see: http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl\nvec3 hsv2rgb(vec3 c){\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main(){\n    float s = 1.8 * (cos(u_time) + 1.3);\n    vec2 d = s * (gl_FragCoord.xy - u_size * 0.5);\n    gl_FragColor = vec4(hsv2rgb(vec3(dot(d, d) / 315.0, 0.8, 1.0)), 1.0);\n}\n    </script>\n  </body>\n</html>\n"},"css":{"language":"css","content":"html, body {\n    padding : 0;\n    margin : 0;\n    border : 0;\n}"},"published":"2014-04-07T23:25:38"}