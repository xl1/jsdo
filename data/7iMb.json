{"name":"7iMb","title":"ページぐちゃぐちゃにするやつ","description":"<div class=\"markdown\"><h3>2013/9/26 &#x66F4;&#x65B0;</h3>\n\n<ul>\n<li><code>&lt;iframe&gt;</code> &#x306B;&#x76F4;&#x63A5; filter &#x3092;&#x304B;&#x3051;&#x3066;&#x3082;&#x52B9;&#x679C;&#x304C;&#x7121;&#x3044;&#x3088;&#x3046;&#x306B;&#x306A;&#x3063;&#x3066;&#x3044;&#x305F;&#x306E;&#x3067;&#x3001;wrapper &#x8981;&#x7D20;&#x306B; filter &#x304B;&#x3051;&#x308B;&#x3088;&#x3046;&#x5909;&#x66F4;</li>\n<li>&#x30A4;&#x30F3;&#x30E9;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30A4;&#x30EB;&#x3067; -webkit-filter &#x3092;&#x6307;&#x5B9A;&#x3057;&#x3066;&#x3082;&#x52B9;&#x304B;&#x306A;&#x304F;&#x306A;&#x3063;&#x3066;&#x3044;&#x305F;&#x306E;&#x3067;&#x3001;<code>&lt;style&gt;</code> &#x8981;&#x7D20;&#x3092;&#x4F5C;&#x3063;&#x3066;&#x633F;&#x5165;&#x3059;&#x308B;&#x3088;&#x3046;&#x5909;&#x66F4;</li>\n</ul>\n\n<h3>2013/11/10 &#x66F4;&#x65B0;</h3>\n\n<ul>\n<li>iframe &#x306B;&#x52B9;&#x304B;&#x306A;&#x3044;&#x306E;&#x76F4;&#x3063;&#x3066;&#x3044;&#x305F;&#x306E;&#x3067;&#x3082;&#x3068;&#x306B;&#x623B;&#x3057;&#x305F;</li>\n<li>ja.m.wikipedia.org &#x3092;&#x30B5;&#x30F3;&#x30D7;&#x30EB;&#x30DA;&#x30FC;&#x30B8;&#x306B;&#x4F7F;&#x3063;&#x3066;&#x3044;&#x305F;&#x3051;&#x308C;&#x3069;&#x3001;&#x3069;&#x3046;&#x3082;&#x30D5;&#x30A3;&#x30EB;&#x30BF;&#x52B9;&#x304B;&#x306A;&#x304F;&#x306A;&#x3063;&#x3066;&#x305F;&#x306E;&#x3067; w3.org &#x306B;&#x3057;&#x305F;&#xFF08;&#x3053;&#x306E;&#x3088;&#x3046;&#x306B;&#x52B9;&#x304B;&#x306A;&#x3044;&#x30DA;&#x30FC;&#x30B8;&#x3082;&#x3042;&#x308B;&#xFF09;</li>\n</ul>\n</div>","libraries":[],"js":{"language":"coffeescript","content":"$ = (id) -> document.getElementById(id)\nrand = -> Math.random() * 10000\n\ncreateURL = (content) ->\n    blob = new Blob [content], type: 'text/plain'\n    URL.createObjectURL(blob)\n\nfilterString = do ->\n    vsURL = createURL($('vshader').textContent)\n    fsURL = createURL($('fshader').textContent)\n    (seed1, seed2) -> \"\"\"\n        custom(\n        \turl('#{vsURL}') mix(url('#{fsURL}') normal source-atop),\n        \t32 32 detached,\n        \tseed #{seed1} #{seed2}\n        )\n    \"\"\"\n\nstyle = document.createElement('style')\ndocument.head.appendChild(style)\nsetInterval ->\n    $('ifr').style.WebkitFilter = filterString(rand(), rand())\n, 2500\n$('address').addEventListener 'change', -> $('ifr').src = @value"},"html":{"language":"html","content":"<script type=\"x-shader/x-vertex\" id=\"vshader\">\nprecision mediump float;\nattribute vec4 a_position;\nattribute vec3 a_triangleCoord;\nuniform vec2 u_meshSize;\nuniform mat4 u_projectionMatrix;\nvarying float v_diff;\n\nuniform vec2 seed;\nfloat seed1 = seed.x, seed2 = seed.y;\n\nvoid nextSeed(inout float s, float modulo, float a, float b){\n  s = mod(a * s + b, modulo);\n}\nfloat rand1(){\n  nextSeed(seed1, 65537.0, 11367.0, 12345.0);\n  return seed1 / 65537.0;\n}\nfloat rand2(){\n  nextSeed(seed2, 32771.0, 7529.0, 4545.0);\n  return seed2 / 32771.0;\n}\n\nvoid main(){\n  const int loopMax = 1000;\n  \n  float diff = 0.0;\n  float width = u_meshSize.x;\n  float density = 0.37 / width;\n  int index = int(a_triangleCoord.y * width);\n  \n  for(int i = 0; i < loopMax; i++){\n    if(i == index) break;\n    if(rand1() < density){\n      diff += rand2() * width;\n    }\n  }\n  diff = floor(diff);\n  v_diff = diff;\n  float gap = a_position.x - a_triangleCoord.x / width;\n  gl_Position = u_projectionMatrix * vec4(\n    fract((a_triangleCoord.x + diff) / width) + gap,\n    a_position.y,\n    0.0,\n    1.0\n  );\n}\n</script>\n<script type=\"x-shader/x-fragment\" id=\"fshader\">\nprecision mediump float;\nvarying float v_diff;\n\nuniform vec2 seed;\nfloat seed1 = seed.x, seed2 = seed.y;\n\nvoid nextSeed(inout float s, float modulo, float a, float b){\n  s = mod(a * s + b, modulo);\n}\nfloat rand1(){\n  nextSeed(seed1, 65537.0, 11367.0, 12345.0);\n  return seed1 / 65537.0;\n}\nfloat rand2(){\n  nextSeed(seed2, 32771.0, 7529.0, 4545.0);\n  return seed2 / 32771.0;\n}\n\nfloat val(){\n  const float density = 0.2;\n\n  if(rand1() < density) return rand2();\n  return 0.0;\n}\n\nvoid main(){\n  const int loopMax = 1000;\n  \n  int index = int(mod(v_diff, float(loopMax)));\n  for(int i = 0; i < loopMax; i++){\n    if(i == index) break;\n    rand1(); rand2();\n  }\n  \n  css_ColorMatrix = mat4(\n    1.0 - val(), val(), val(), 0.0,\n    val(), 1.0 - val(), val(), 0.0,\n    val(), val(), 1.0 - val(), 0.0,\n    val(), val(), val(), 1.0\n  );\n}\n</script>\n<input id=\"address\" value=\"http://www.w3.org/\">\n<div id=\"wrapper\">\n  <iframe id=\"ifr\" src=\"http://www.w3.org/\"></iframe>    \n</div>"},"css":{"language":"css","content":"body {\n    margin: 0;\n    overflow: hidden;\n}\n#address {\n    display: block;\n    width: 465px;\n    height: 25px;\n    font-size: 20px;\n    line-height: 25px;\n}\n#ifr {\n    width: 465px;\n    height: 435px;\n    border: 0;\n}"},"published":"2013-11-10T21:42:25"}