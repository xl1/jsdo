{"name":"20va","title":"Chrome の requestAnimationFrame + canvas がおかしい","description":"Chrome 13.0.782.1 &#x3068; 13.0.782.3 &#x3067;<br>\n(1) &#x63CF;&#x753B;&#x9818;&#x57DF;&#x3092;&#x96A0;&#x3059;&#xFF08;&#x30BF;&#x30D6;&#x5207;&#x308A;&#x66FF;&#x3048;&#x308B;&#x306A;&#x3069;&#xFF09;<br>\n(2) &#x623B;&#x3063;&#x3066;&#x304D;&#x3066; reload<br>\n(3) canvas &#x306E;&#x63CF;&#x753B;&#x304C;&#x9014;&#x4E2D;&#x3067;&#x6B62;&#x307E;&#x308B;<br>\n<br>\nrequestAnimationFrame &#x306E; callback &#x81EA;&#x4F53;&#x306F;&#x52D5;&#x3044;&#x3066;&#x308B;<br>\n&#x6B62;&#x307E;&#x3089;&#x306A;&#x3044;&#x3053;&#x3068;&#x3082;&#x3042;&#x308B;&#x3057;&#x3001;&#x4ED6;&#x306E;&#x304D;&#x3063;&#x304B;&#x3051;&#x3067;&#x6B62;&#x307E;&#x308B;&#x3053;&#x3068;&#x3082;&#x3042;&#x308B;&#x304B;&#x3082;&#x3057;&#x308C;&#x307E;&#x305B;&#x3093;&#xFF08;&#x30B3;&#x30F3;&#x30C6;&#x30AF;&#x30B9;&#x30C8;&#x30E1;&#x30CB;&#x30E5;&#x30FC;&#x51FA;&#x3059;&#x3001;CSS&#x30A2;&#x30CB;&#x30E1;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x3059;&#x308B;&#x3001;&#x306A;&#x3069;&#xFF09;<br>\n<br>\n&#x3010;6/7 &#x8FFD;&#x8A18;&#x3011; --disable-accelerated-2d-canvas &#x30AA;&#x30D7;&#x30B7;&#x30E7;&#x30F3;&#x3064;&#x3051;&#x308C;&#x3070;&#x89E3;&#x6C7A;&#x3057;&#x307E;&#x3057;&#x305F;&#x2026;&#x2026;","libraries":[],"js":{"language":"js","content":"window.requestAnimationFrame = (\n  window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  function(func){\n    return window.setTimeout(func, 1000/60);\n  }\n);\nvar ctx = document.getElementById('world').getContext('2d');\nvar cnt = document.getElementById('counter');\nvar i = 0;\n(function(){\n  ctx.fillStyle = '#' + ('000000' + (Math.random()*0x1000000 |0).toString(16)).slice(-6);\n  ctx.fillRect(Math.random()*300, Math.random()*250, 100, 100);\n  cnt.innerText = i++;\n  requestAnimationFrame(arguments.callee);\n})();"},"html":{"language":"html","content":"<p id=\"counter\"></p>\n<canvas id='world' width=\"400\" height=\"350\"></canvas>"},"css":{"language":"css","content":""},"published":"2011-06-03T15:23:35"}