{"name":"b13E","title":"triangleCoord って何","description":"","libraries":[],"js":{"language":"coffeescript","content":"vshader = '''\nattribute vec4 a_position;\nattribute vec3 a_triangleCoord;\nuniform mat4 u_projectionMatrix;\n\nvarying vec3 v_triangleCoord;\n\nvoid main(){\n\tv_triangleCoord = a_triangleCoord;\n\tgl_Position = u_projectionMatrix * a_position;\n}\n'''\n\nfshader = '''\nprecision mediump float;\n\nuniform vec2 u_meshSize;\n\nvarying vec3 v_triangleCoord;\n\nvoid main(){\n\tgl_FragColor = vec4(v_triangleCoord / vec3(u_meshSize, 6.0), 1.0);\n}\n'''\n\n$ = (id) -> document.getElementById(id)\ncreateShaderURL = (content) ->\n    blob = new Blob [content], { type: 'text/plain' }\n    return URL.createObjectURL(blob);\n\nmain = ->\n    vsh = createShaderURL(vshader)\n    fsh = createShaderURL(fshader)\n    style = document.createElement('style')\n    document.head.appendChild(style)\n    style.innerText = \"\"\"\n    #test {\n        -webkit-filter: custom(url(#{vsh}) url(#{fsh}), 5 5);\n    }\n    #test:hover {\n        -webkit-filter: custom(url(#{vsh}) url(#{fsh}), 5 5 detached);\n    }\n    \"\"\"\n    \nmain()"},"html":{"language":"html","content":"<div id=\"test\"></div>"},"css":{"language":"css","content":"#test {\n    width: 450px;\n    height: 350px;\n}"},"published":"2013-02-20T13:40:22"}