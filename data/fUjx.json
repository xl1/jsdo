{"name":"fUjx","title":"ドラッグできるダイアログボックス","description":"<div class=\"markdown\"><p><a href=\"http://www.adventar.org/calendars/2\">CSS Programming Advent Calendar 2012</a> &#x306E; 7 &#x65E5;&#x76EE; <a href=\"https://gist.github.com/4229530\">https://gist.github.com/4229530</a></p>\n\n<p><a href=\"./data/fUjx.html/\">&#x30D5;&#x30EB;&#x30B9;&#x30AF;&#x30EA;&#x30FC;&#x30F3;&#x63A8;&#x5968;</a></p>\n</div>","libraries":[],"js":{"language":"js","content":""},"html":{"language":"html","content":"<input type=\"checkbox\" id=\"show-dialog1\">\n<input type=\"checkbox\" id=\"show-gimmick\">\n\n<h1>ドラッグできるダイアログボックス</h1>\n\n<div class=\"dialog-container\" id=\"dialog1\">\n  <div class=\"dialog-frame\"></div>\n  <div class=\"dialog\">\n    <div class=\"dialog-title\">Draggable Dialog</div>\n    <label class=\"dialog-close\" for=\"show-dialog1\"></label>\n    <div class=\"dialog-content\">\n      Chrome なら（たぶん Safari も）タイトルバーを持って移動できます。\n      <code>overflow: scroll</code> を指定している都合上、\n      ドラッグさせる要素の弟要素にダイアログを配置しています。\n    </div>\n  </div>\n</div>\n\n<label class=\"toggle\" for=\"show-dialog1\">こんにちは！</label>\n<label class=\"toggle\" for=\"show-gimmick\">仕組みを見る</label>"},"css":{"language":"scss","content":"@mixin only-webkit {\n  @media screen and (-webkit-min-device-pixel-ratio: 0) {\n    @content;\n  }\n}\n\n@mixin draggable-frame($width, $height, $left, $top, $style: both) {\n  resize: $style;\n  overflow: hidden;\n  width: $left + $width;\n  height: $top + $height;\n\n  @include only-webkit {\n    overflow: scroll;\n    width: $width;\n    height: $height;\n    margin-left: $left;\n    margin-top: $top;\n\n    &:active {\n      margin-left: $left - 1;\n      margin-top: $top - 1;\n    }\n    &[style] {\n      margin-left: 0;\n      margin-top: 0;\n    }\n  }\n  &::-webkit-scrollbar {\n    width: $width;\n    height: $height;\n  }\n  &::-webkit-resizer, &::-webkit-scrollbar-corner {\n    visibility: hidden;\n  }\n}\n\n/* main */\n\n/* dialog box */\n$dialog-title-height: 30px;\n$dialog-border: 7px;\n$dialog-width: 400px;\n$dialog-height: 200px;\n\n#show-dialog1:checked ~ #dialog1 {\n  display: inline-block;\n}\n\n.dialog-container {\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  padding-bottom: $dialog-height - $dialog-title-height;\n  pointer-events: none;\n  * {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n}\n\n.dialog-frame {\n  @include draggable-frame(\n    $dialog-width, $dialog-title-height, 400px, 300px\n  );\n}\n\n.dialog {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  \n  pointer-events: none;\n  width: $dialog-width;\n  height: $dialog-height;\n  \n  border: 1px solid #58b;\n  background: #6af;\n  padding: $dialog-border;\n  text-align: center;\n  \n  .dialog-title {\n    $height: $dialog-title-height - $dialog-border - 1px;\n    height: $height;\n    line-height: $height;\n    font-size: $height * 0.65;\n  }\n  \n  .dialog-close {\n    position: absolute;\n    right: $dialog-border;\n    top: 0;\n    width: 30px;\n    height: 20px;\n    \n    pointer-events: auto;\n    background: #c44;\n    color: #fff;\n    font-size: 14px;\n    font-weight: bold;\n    \n    &::before {\n      content: '\\D7';\n    }\n    &:hover {\n      background: #e44;\n    }\n  }\n  \n  .dialog-content {\n    height: $dialog-height - $dialog-title-height - $dialog-border - 1px;\n    background: #f0f0f0;\n    border: 1px solid #69c;\n    padding: 12px 24px;\n    line-height: 1.6;\n    text-align: left;\n  }\n}\n\n\n/* show gimmick */\n#show-gimmick:checked {\n  ~ .dialog-container {\n    background: rgba(255, 150, 0, 0.2);\n  }\n  ~* .dialog-frame {\n    background: rgba(0, 150, 255, 0.2);\n  }\n}\n\n\n/* controls */\nbody > input {\n  display: none;\n}\n.toggle {\n  background: #ddd;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 0 1px white inset;\n  padding: 7px;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n#show-gimmick:checked ~ .toggle[for=\"show-gimmick\"],\n#show-dialog1:checked ~ .toggle[for=\"show-dialog1\"] {\n  background: #6af;\n  color: white;\n  box-shadow: 0 0 0 1px white inset, 0 2px #333 inset;\n  padding: 8px 7px 6px 7px;\n}"},"published":"2012-12-07T09:34:42"}