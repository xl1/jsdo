{"name":"wV5C","title":"ドラッグできる要素","description":"<div class=\"markdown\"><p><a href=\"http://www.adventar.org/calendars/2\">CSS Programming Advent Calendar 2012</a> &#x306E; 7 &#x65E5;&#x76EE; <a href=\"https://gist.github.com/4229530\">https://gist.github.com/4229530</a></p>\n</div>","libraries":[],"js":{"language":"js","content":""},"html":{"language":"html","content":"<h1>ドラッグできる要素</h1>\n<input type=\"checkbox\" id=\"show-gimmick\">\n<ul>\n  <li>下の赤い要素をドラッグして動かせます！\n  <li><label class=\"toggle\" for=\"show-gimmick\">仕組みをみる</label>\n  <li>左上方向にもドラッグできます（引っかかることもある）\n</ul>\n<div class=\"drag\"></div>"},"css":{"language":"scss","content":"$vendor-prefixes: '-webkit-' '-moz-' '-ms-' '-o-' '';\n\n@mixin vendor-prop($prop, $value) {\n  @each $p in $vendor-prefixes {\n    #{$prop}: #{$p + $value};\n  }\n}\n\n@mixin only-webkit {\n  @media screen and (-webkit-min-device-pixel-ratio: 0) {\n    @content;\n  }\n}\n\n@mixin draggable-frame($width, $height, $left, $top, $style: both) {\n  resize: $style;\n  overflow: hidden;\n  width: $left + $width;\n  height: $top + $height;\n\n  @include only-webkit {\n    overflow: scroll;\n    width: $width;\n    height: $height;\n    margin-left: $left;\n    margin-top: $top;\n\n    &:active {\n      margin-left: $left - 1;\n      margin-top: $top - 1;\n    }\n    &[style] {\n      margin-left: 0;\n      margin-top: 0;\n    }\n  }\n  &::-webkit-scrollbar {\n    width: $width;\n    height: $height;\n  }\n  &::-webkit-resizer, &::-webkit-scrollbar-corner {\n    visibility: hidden;\n  }\n}\n\n/* main */\n\n.drag {\n  width: 20px;\n  height: 20px;\n  background-position: 100% 100%;\n  @include vendor-prop(background-image, linear-gradient(red, red));\n  background-size: 20px 20px;\n  background-repeat: no-repeat;\n  \n  @include draggable-frame(20px, 20px, 350px, 200px);\n}\n.drag:active {\n  cursor: move;\n}\n\n/* show gimmick */\nbody > input {\n  display: none;\n}\n.toggle {\n  display: inline-block;\n  background: #ddd;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 0 1px white inset;\n  padding: 7px;\n  \n  &:hover {\n    cursor: pointer;\n  }\n}\n#show-gimmick:checked ~* .toggle[for=\"show-gimmick\"] {\n  background: #6af;\n  color: white;\n  box-shadow: 0 0 0 1px white inset, 0 2px #333 inset;\n  padding: 8px 7px 6px 7px;\n}\n#show-gimmick:checked ~ .drag {\n  background-color: pink;\n}"},"published":"2012-12-07T09:55:39"}